exports.id=703,exports.ids=[703,403],exports.modules={3124:e=>{e.exports=function(e,r,t,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce((function(t,n){return n(e,r,t)||t}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,r,a),a=null),a},e.exports.default=e.exports,e.exports.__esModule=!0},6653:(e,r,t)=>{"use strict";t.d(r,{Z:()=>d});var n,i=t(4575),a=t.n(i),o=t(3913),u=t.n(o),s=t(403),c=t(8506),l=t.n(c);const d=new((0,s.default.autoBind)(n=function(){function e(){a()(this,e)}return u()(e,[{key:"loginUserCheck",value:function(e,r,t){var n=l().object({username:l().string().required().min(4).max(20),password:l().string().required().min(6).max(16)}).validate(e.body).error;n?(r.error(n.message),r.redirect("back")):t()}},{key:"addUserMiddleware",value:function(e,r,t){var n=l().object({username:l().string().required().min(4).max(20),password:l().string().required().min(6).max(16)}).validate(e.body).error;n?(r.error(n.message),r.redirect("back")):t()}}]),e}())||n)},403:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>b}),t(2419);var n=t(4575),i=t.n(n),a=t(3913),o=t.n(a),u=t(6525),s=t.n(u),c=t(2205),l=t.n(c),d=t(8585),f=t.n(d),p=t(9754),v=t.n(p),y=(t(2222),t(9554),t(4747),t(7556),t(3582));var b=function(e){l()(a,e);var r,t,n=(r=a,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=v()(r);if(t){var i=v()(this).constructor;e=Reflect.construct(n,arguments,i)}else e=n.apply(this,arguments);return f()(this,e)});function a(){return i()(this,a),n.apply(this,arguments)}return o()(a,null,[{key:"Get",value:function(e){for(var r=this,t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i,o){var u=o.value;s()(v()(a),"variableTypes",r).isInterfaceFunction(u)&&(n.length?y.Z.get.apply(y.Z,[e].concat(n,[u.bind(t)])):y.Z.get(e,u.bind(t)))}}},{key:"Post",value:function(e){for(var r=this,t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i,o){var u=o.value;s()(v()(a),"variableTypes",r).isInterfaceFunction(u)&&(n.length?y.Z.post.apply(y.Z,[e].concat(n,[u.bind(t)])):y.Z.post(e,u.bind(t)))}}},{key:"Use",value:function(e){var r=this;return function(t,n,i){var o=i.value;s()(v()(a),"variableTypes",r).isInterfaceFunction(o)&&(e?y.Z.use(e,o.bind(t)):y.Z.use(o.bind(t)))}}},{key:"autoBind",value:function(e,r,t){var n=this,i=function(e,r,t){return{get:function(){return Object.defineProperty(e,r,{value:t.bind(this),configurable:!0,writable:!0,enumerable:!1}),t.bind(this)}}};if(void 0!==t&&void 0!==r){var o=t.value;if(s()(v()(a),"variableTypes",this).isFunction(o))return i(e,r,o)}else{var u=e.prototype;Reflect.ownKeys(u).forEach((function(r){if("constructor"!==r){var t=u[r];s()(v()(a),"variableTypes",n).isFunction(t)&&Object.defineProperty(e,r,i(u,r,t))}}))}}}]),a}(t(6827).Z)},6703:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>x});var n,i,a,o=t(8926),u=t.n(o),s=t(4575),c=t.n(s),l=t(3913),d=t.n(l),f=t(3124),p=t.n(f),v=(t(5003),t(7757)),y=t.n(v),b=t(8690),g=t(1739),h=t(6653),R=t(7751),m=t(403),w=t(787),x=(n=m.default.Get("/register"),i=m.default.Post("/register",h.Z.addUserMiddleware),a=function(){function e(){c()(this,e)}var r;return d()(e,[{key:"renderRegisterPage",value:function(e,r,t){try{r.render("register",{title:"Register"})}catch(e){t(new R.default(b.q.SERVER_ERROR,e))}}},{key:"addUser",value:(r=u()(y().mark((function e(r,t,n){var i,a,o,u,s;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.body,a=i.username,o=i.password,e.prev=1,e.next=4,w.default.getByUsername(a);case 4:if(!(u=e.sent)||!u.userInfo.id){e.next=10;break}t.error(g.$O.USERNAME_WAS_USED),t.redirect("back"),e.next=14;break;case 10:return s=new w.default({username:a,password:o}),e.next=13,s.save();case 13:t.redirect("/login");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n(new R.default(b.q.SERVER_ERROR,e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,16]])}))),function(e,t,n){return r.apply(this,arguments)})}]),e}(),p()(a.prototype,"renderRegisterPage",[n],Object.getOwnPropertyDescriptor(a.prototype,"renderRegisterPage"),a.prototype),p()(a.prototype,"addUser",[i],Object.getOwnPropertyDescriptor(a.prototype,"addUser"),a.prototype),a)},7556:(e,r,t)=>{t(2109)({target:"Reflect",stat:!0},{ownKeys:t(3887)})}};