exports.id=392,exports.ids=[392,976],exports.modules={2976:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>j}),e(2419);var n=e(8926),o=e.n(n),i=e(4575),a=e.n(i),s=e(3913),c=e.n(s),u=e(1506),f=e.n(u),l=e(2205),h=e.n(l),d=e(8585),v=e.n(d),p=e(9754),w=e.n(p),m=e(9713),R=e.n(m),y=e(7757),E=e.n(y),g=(e(1539),e(8674),e(9554),e(4747),e(6992),e(8783),e(3948),e(9600),e(4916),e(5306),e(2707),e(3123),e(9714),e(8690)),C=e(6827),x=e(1239),k=e.n(x),D=e(7147),F=e.n(D),O=e(5135),W=e.n(O),P=e(1017),S=e.n(P),b=e(7751);var j=function(t){h()(s,t);var r,e,n,i=(e=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=w()(e);if(n){var o=w()(this).constructor;t=Reflect.construct(r,arguments,o)}else t=r.apply(this,arguments);return v()(this,t)});function s(t,r){var e;return a()(this,s),(e=i.call(this)).watchDir=t,e.res=r,R()(f()(e),"wordCounts",{}),e}return c()(s,[{key:"startWatchFile",value:function(){var t=this;F().watch(this.watchDir,{recursive:!0},(function(r,e){t.emit("fileChange",r,e)}))}},{key:"wordCount",value:function(){var t=this;return new Promise((function(r){F().stat(t.watchDir,(function(e,n){e&&C.Z.hadError(new b.default(g.q.SERVER_ERROR,e.message,e),t.res),n.isDirectory()?F().readdir(t.watchDir,(function(e,n){var o=[];e&&C.Z.hadError(new b.default(g.q.SERVER_ERROR,e.message,e),t.res),n.forEach((function(r){".jpg"!==S().extname(r)&&o.push(t.wordCountByFile(r))})),Promise.all(o).then((function(){r(t.wordCounts)}))})):n.isFile()&&t.wordCountByFile().then((function(){r(t.wordCounts)}))}))}))}},{key:"copyFile",value:(r=o()(E().mark((function t(r,e){var n,o,i,a,s;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=S().join(this.watchDir,r),o=S().extname(r),i=r.replace(o,e),a=S().join(this.watchDir,i),t.prev=4,t.next=7,D.promises.readFile(n,{encoding:"utf-8",flag:"r"});case 7:return s=t.sent,t.next=10,D.promises.rm(a,{force:!0});case 10:return t.next=12,D.promises.writeFile(a,s,{encoding:"utf-8"});case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(4),C.Z.hadError(new b.default(g.q.SERVER_ERROR,t.t0));case 17:case"end":return t.stop()}}),t,this,[[4,14]])}))),function(t,e){return r.apply(this,arguments)})},{key:"wordCountByFile",value:function(t){var r=this;return new Promise((function(e){F().readFile(r.watchDir+(null!=t?t:""),(function(t,n){t&&C.Z.hadError(new b.default(g.q.SERVER_ERROR,t.message,t),r.res);var o=W().decode(n,"gbk");r.countWordInFile(o),e(!0)}))}))}},{key:"countWordInFile",value:function(t){var r=this;t.toString().toLowerCase().split(/\s+/).sort().forEach((function(t){r.addWordCount(t)}))}},{key:"addWordCount",value:function(t){this.wordCounts[t]=this.wordCounts[t]?this.wordCounts[t]+1:1}}]),s}(k().EventEmitter)},392:(t,r,e)=>{"use strict";e.r(r),e.d(r,{default:()=>p});var n=e(4575),o=e.n(n),i=e(3913),a=e.n(i),s=e(9713),c=e.n(s),u=(e(6699),e(2023),e(8690)),f=e(7751),l=e(6827),h=e(2976),d=e(1017),v=e.n(d);const p=new(function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.Z.getCmdParams();o()(this,t),this.params=r,c()(this,"excludeFile",[".png",".jpg",".vue"]),this.checkParams()}return a()(t,[{key:"checkParams",value:function(){Object.prototype.hasOwnProperty.call(this.params,"watchDir")||Object.prototype.hasOwnProperty.call(this.params,"WD")?this.watchDir(this.params.watchDir||this.params.WD):l.Z.hadError(new f.default(u.q.SERVER_ERROR,"params is error, please enter --watchDir or --WD"))}},{key:"watchDir",value:function(t){var r=this;console.log("开始监听："+t);var e=new h.default(t);e.on("fileChange",(function(t,n){var o=v().extname(n);console.log(t),"change"!==t||r.excludeFile.includes(o)||e.copyFile(n,".vue")})),e.startWatchFile()}}]),t}())},8886:(t,r,e)=>{var n=e(8113).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},256:(t,r,e)=>{var n=e(8113);t.exports=/MSIE|Trident/.test(n)},8008:(t,r,e)=>{var n=e(8113).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},2707:(t,r,e)=>{"use strict";var n=e(2109),o=e(1702),i=e(9662),a=e(7908),s=e(6244),c=e(1340),u=e(7293),f=e(4362),l=e(9341),h=e(8886),d=e(256),v=e(7392),p=e(8008),w=[],m=o(w.sort),R=o(w.push),y=u((function(){w.sort(void 0)})),E=u((function(){w.sort(null)})),g=l("sort"),C=!u((function(){if(v)return v<70;if(!(h&&h>3)){if(d)return!0;if(p)return p<603;var t,r,e,n,o="";for(t=65;t<76;t++){switch(r=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(n=0;n<47;n++)w.push({k:r+n,v:e})}for(w.sort((function(t,r){return r.v-t.v})),n=0;n<w.length;n++)r=w[n].k.charAt(0),o.charAt(o.length-1)!==r&&(o+=r);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:y||!E||!g||!C},{sort:function(t){void 0!==t&&i(t);var r=a(this);if(C)return void 0===t?m(r):m(r,t);var e,n,o=[],u=s(r);for(n=0;n<u;n++)n in r&&R(o,r[n]);for(f(o,function(t){return function(r,e){return void 0===e?-1:void 0===r?1:void 0!==t?+t(r,e)||0:c(r)>c(e)?1:-1}}(t)),e=o.length,n=0;n<e;)r[n]=o[n++];for(;n<u;)delete r[n++];return r}})}};